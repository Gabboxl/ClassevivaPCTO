<Page
    x:Class="ClassevivaPCTO.DashboardPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ClassevivaPCTO"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls" 
    xmlns:animatedvisuals="using:Microsoft.UI.Xaml.Controls.AnimatedVisuals"
    xmlns:converters="using:ClassevivaPCTO.Converters"

    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    muxc:BackdropMaterial.ApplyToRootOrPageBackground="True">

    <Page.Resources>
        <converters:GradeToColorConverter x:Key="GradeToColorConverter" />
    </Page.Resources>


    <Grid >
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>

        </Grid.RowDefinitions>

        <Grid Grid.Row ="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="48"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Grid x:Name="AppTitleBar" Background="Transparent">
                <!-- Width of the padding columns is set in LayoutMetricsChanged handler. -->
                <!-- Using padding columns instead of Margin ensures that the background
             paints the area under the caption control buttons (for transparent buttons). -->
                <Grid.ColumnDefinitions>
                    <ColumnDefinition x:Name="LeftPaddingColumn" Width="0"/>
                    <ColumnDefinition/>
                    <ColumnDefinition x:Name="RightPaddingColumn" Width="0"/>
                </Grid.ColumnDefinitions>
                <Image Source="Assets/WindowIcon.png" 
               Grid.Column="1"
               HorizontalAlignment="Left"
               Width="16" Height="16"
               Margin="8,0,0,0"/>
                <TextBlock x:Name="AppTitleTextBlock"
                   Text="test"
                   Style="{StaticResource CaptionTextBlockStyle}" 
                   Grid.Column="1"
                   VerticalAlignment="Center"
                   Margin="28,0,0,0"/>
            </Grid>

            <!-- This control has a higher z-order than AppTitleBar, 
         so it receives user input. -->
            <AutoSuggestBox QueryIcon="Find"
                    PlaceholderText="Cerca"
                    HorizontalAlignment="Center"
                    Width="260" Height="32" />



            <Button Content="Logout" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Right" Margin="0,0,256,0">
                <Button.Flyout>
                    <Flyout>
                        <StackPanel>
                            <TextBlock Style="{ThemeResource BaseTextBlockStyle}" Text="Uscirai dall'app. Sei sicuro?" Margin="0,0,0,12" />
                            <Button x:Name="logoutButton" Style="{StaticResource AccentButtonStyle}" Content="Effettua il logout" Height="32" Width="177" RenderTransformOrigin="2.13,0.797" HorizontalAlignment="Center"  Click="ButtonLogout_Click" VerticalAlignment="Top"/>

                        </StackPanel>
                    </Flyout>
                </Button.Flyout>
            </Button>
        </Grid>

        <TextBlock x:Name="textBenvenuto" Text="Benvenuto "   FontSize="42" Height="60" VerticalAlignment="Top" Margin="32,48,0,0" />



        <TextBlock x:Name="textDati" Text="test "  TextWrapping="Wrap" FontSize="12" Height="40" Padding="0,0,0,0" VerticalAlignment="Top" Margin="32,114,88,0" />



        <controls:UniformGrid Grid.Row ="1"
            ColumnSpacing="48" RowSpacing="48"
                              Margin="24,24,24,24"
            >


            <StackPanel 
                
                Grid.ColumnSpan="1"
            VerticalAlignment="Stretch" HorizontalAlignment="Stretch" 
                    CornerRadius="8"
                    Padding="12"
                    BorderThickness="1"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}">

                <Button Width="75">
                    <muxc:AnimatedIcon x:Name="SearchAnimatedIcon">
                        <muxc:AnimatedIcon.Source>
                            <animatedvisuals:AnimatedFindVisualSource/>
                        </muxc:AnimatedIcon.Source>
                        <muxc:AnimatedIcon.FallbackIconSource>
                            <muxc:SymbolIconSource Symbol="Find"/>
                        </muxc:AnimatedIcon.FallbackIconSource>
                    </muxc:AnimatedIcon>
                </Button>


                <Button Content="Effettua il logout">
                    <Button.Flyout>
                        <Flyout>
                            <StackPanel>
                                <TextBlock Style="{ThemeResource BaseTextBlockStyle}" Text="Uscirai dall'app. Sei sicuro?" Margin="0,0,0,12" />
                                <Button x:Name="asd" Style="{StaticResource AccentButtonStyle}" Content="Effettua il logout" Height="32" Width="177" RenderTransformOrigin="2.13,0.797" HorizontalAlignment="Center"  Click="ButtonLogout_Click" VerticalAlignment="Top"/>

                            </StackPanel>
                        </Flyout>
                    </Button.Flyout>
                </Button>

            </StackPanel>

            <Grid                     CornerRadius="8"
                    Padding="12"
                    BorderThickness="1"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />

                </Grid.ColumnDefinitions>

                <TextBlock Grid.Row="0" x:Name="textVoti" Text="Voti"   FontSize="24"  VerticalAlignment="Top" Margin="8" />


                <ListView x:Name="listtest" Grid.Row="1" 
    SelectionMode="Single"
ScrollViewer.VerticalScrollBarVisibility="Visible"
                              >

                    <ListView.ItemTemplate>
                        <DataTemplate >
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <Grid Grid.RowSpan="2">
                                <Ellipse x:Name="Ellipse"
                    Grid.RowSpan="2"
                    Width ="42"
                    Height="42"
                    Margin="2"
                    Fill="{Binding decimalValue, Converter={StaticResource GradeToColorConverter}}"
                    
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center">
                    <!-- ="{ThemeResource SystemControlBackgroundBaseMediumBrush}" -->
                                    </Ellipse>
                                    <TextBlock VerticalAlignment="Center" HorizontalAlignment="Center" Text="{Binding displayValue}" FontSize="14" Foreground="#FFFFFF" />

                                </Grid>


                                <TextBlock Grid.Column="1"
                    Text="{Binding subjectDesc}"

                    Style="{ThemeResource BaseTextBlockStyle}"
                    Margin="12,6,0,0"/>

                                <TextBlock  Grid.Column="1"
                    Grid.Row="1"
                    Text="{Binding notesForFamily}"

                    Style="{ThemeResource BodyTextBlockStyle}"
                    Margin="12,0,0,6"/>

                                <TextBlock  Grid.Column="1"
                    Grid.Row="1"
                    Text="{Binding notesForFamily}"

                    Style="{ThemeResource BodyTextBlockStyle}"
                    Margin="12,0,0,6"/>
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>



            </Grid>

            <StackPanel
            VerticalAlignment="Stretch" HorizontalAlignment="Stretch" 
                    CornerRadius="8"
                    Padding="12"
                    BorderThickness="1"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}">

                <Button Content="Effettua il logout">
                    <Button.Flyout>
                        <Flyout>
                            <StackPanel>
                                <TextBlock Style="{ThemeResource BaseTextBlockStyle}" Text="Uscirai dall'app. Sei sicuro?" Margin="0,0,0,12" />
                                <Button x:Name="asd4" Style="{StaticResource AccentButtonStyle}" Content="Effettua il logout" Height="32" Width="177" RenderTransformOrigin="2.13,0.797" HorizontalAlignment="Center"  Click="ButtonLogout_Click" VerticalAlignment="Top"/>

                            </StackPanel>
                        </Flyout>
                    </Button.Flyout>
                </Button>

            </StackPanel>


            <muxc:TreeView>
                <muxc:TreeView.RootNodes>
                    <muxc:TreeViewNode Content="Flavors"
                           IsExpanded="True">
                        <muxc:TreeViewNode.Children>
                            <muxc:TreeViewNode Content="Vanilla"/>
                            <muxc:TreeViewNode Content="Strawberry"/>
                            <muxc:TreeViewNode Content="Chocolate"/>
                        </muxc:TreeViewNode.Children>
                    </muxc:TreeViewNode>
                </muxc:TreeView.RootNodes>
            </muxc:TreeView>





        </controls:UniformGrid>

    </Grid>
</Page>
